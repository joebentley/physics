\documentclass[11pt]{amsart}
\usepackage{amsmath,amsfonts,amsthm,amssymb, amsaddr}


\title{Distributions (Generalised Functions)}

\author{Joe Bentley}

\date{\today}

\begin{document}

\maketitle

\newpage

\section{Dirac Delta Function}

Consider a vector function defined as $\mathbf{A} = \frac{\mathbf{r}}{r^3}$. In spherical polar coordinates this can be written as $\mathbf{A} = \frac{1}{r^2} \mathbf{e_r}$. Next we calculate its divergence using the formula proved in previous notes,

\begin{align*}
  \nabla\cdot\mathbf{A} = \frac{1}{r^2}\frac{\partial}{\partial r}\left(r^2 \frac{1}{r^2}\right) = 0
\end{align*}

Consider next the divergence theorem for the same vector field $\mathbf{A}$, also known as Gauss' theorem, which was shown to be,

\begin{align*}
  \int_V \nabla\cdot\mathbf{A} dV = \oint_S \mathbf{A}\cdot d\mathbf{S}
\end{align*}

By integrating over a sphere of radius $a$ centered at the origin we see,

\begin{align*}
  \oint_S \mathbf{A}\cdot d\mathbf{S} = \frac{1}{a^2} 4\pi a^2 = 4\pi
\end{align*}

There appears to be a contradiction as we have just proved that $\nabla\cdot\mathbf{A} = 0$, but this integral tells us that since the surface integral is non-zero, then so is the volume integral. It turns out however that we have only really proved that $\nabla\cdot\mathbf{A} = 0$ when $\mathbf{r} \neq \mathbf{0}$. Therefore we must have that $\nabla\cdot\mathbf{A}$ suddenly blows up at $\mathbf{r} = \mathbf{0}$ in such a way that the integral over it has the value $4\pi$. This result is given by a function called the Dirac delta function, in this case in 3 dimensions,

\begin{align*}
  \nabla\cdot\mathbf{A} = 4\pi \delta^3(\mathbf{r})
\end{align*}

where

\begin{align*}
  \delta^3(\mathbf{r}) =
  \begin{cases}
    0 & \mathbf{r} \neq \mathbf{0} \\
    \infty & \mathbf{r} = \mathbf{0}
  \end{cases}
\end{align*}

which also has the constraint,

\begin{align*}
  \int_V \delta^3(\mathbf{r}) d^3\mathbf{r} = 1
\end{align*}

For example, the electric field due to a point charge at the origin is given by,

\begin{align*}
  \mathbf{E} = \frac{q}{4\pi\epsilon_0} \frac{\mathbf{r}}{r^3}
\end{align*}

The divergence of this can thus be written as,

\begin{align*}
  \nabla\cdot\mathbf{E} = \frac{q}{\epsilon_0}\delta^3(\mathbf{r}) = \frac{\rho(\mathbf{r})}{\epsilon_0}
\end{align*}

Here, $\rho(\mathbf{r}) = q\delta^3(\mathbf{r})$ is the charge density of a point charge $q$ at the origin. It is zero at $\mathbf{r} \neq \mathbf{0}$ and infinite at $\mathbf{r} = \mathbf{0}$ such that the integral over its volume gives $q$.

The Dirac delta function shows up every time we mix discrete and continuous objects.

\section{The 1D Dirac Delta Function}

The one-dimensional Dirac delta function $\delta(x)$ is defined,

\begin{align*}
  \delta(x) =
  \begin{cases}
    0 & x \neq 0 \\
    \infty & x = 0
  \end{cases}
\end{align*}

Under the constraint,

\begin{align*}
  \int_{-\infty}^{\infty} \delta(x) dx = 1
\end{align*}

As in the three-dimensional case, it may be defined as the limit of a sequence of functions that become increasingly peaked, getting more and more narrow. A good function to choose for this is a Gaussian distribution,

\begin{align*}
  \delta_n(x) = \sqrt{\frac{n}{\pi}} e^{-nx^2}
\end{align*}

We divide by $\sqrt{\frac{n}{\pi}}$ to normalise the distribution so that if we integrate over it we get one regardless of the value of $n$. We can see that the limits give us back the Dirac delta function,

\begin{alignat*}{2}
  &\lim_{n \to \infty} \delta_n(x) = 0 \qquad &&\text{for } x\neq0 \\
  &\lim_{n \to \infty} \delta_n(x) = \infty \qquad &&\text{for } x = 0 \\
  &\lim_{n \to \infty} \int_{-\infty}^{\infty} \delta_n(x) = 1
\end{alignat*}

We can therefore think of the Dirac delta function $\delta(x)$ as the limit of $\delta_n(x)$ as $n \to \infty$.

The key property of the delta function is that,

\begin{align*}
  \int_a^b f(x) \delta(x - x_0) dx =
  \begin{cases}
    f(x_0) & a < x_0 < b \\
    0 & \text{otherwise}
  \end{cases}
\end{align*}

This is because the delta function effectively picks out the value of $f(x)$ where $x = x_0$. This is because the only place where the delta function isn't zero, is when $x = x_0$. Since the integral over the entire Dirac delta function is one, that means we just get the function $f(x_0)$ back.

We may also write this as,

\begin{align*}
  f(x)\delta(x - x_0) = f(x_0)\delta(x - x_0)
\end{align*}

Using some intuition it is clear to see that they are equal, as the product will be zero for all $x \neq x_0$, so we can just replace $f(x)$ with $f(x_0)$

We can relate the one-dimensional and three-dimensional Dirac delta functions by,

\begin{align*}
  \delta^3(\mathbf{r}) = \delta(x)\delta(y)\delta(z)
\end{align*}

Or for a given offset $\mathbf{r_0}$,

\begin{align*}
  \delta^3(\mathbf{r} - \mathbf{r_0}) = \delta(x - x_0)\delta(y - y_0)\delta(z - z_0)
\end{align*}

\section{The Heaviside (Step) Function}

The Heaviside function, also known as the step function, is defined as the integral of the Dirac delta function,

\begin{align}
  \label{eq:heavisideintegral}
  \Theta(x) = \int_{-\infty}^x\delta(t)dt
\end{align}

By considering the definition of the Dirac delta function, and looking at the cases where $x < 0$ and $x > 0$ we can find a numerical definition of the Heaviside function,

\begin{align*}
  \Theta(x) =
  \begin{cases}
    0 & x < 0 \\
    1 & x > 0
  \end{cases}
\end{align*}

The function, when plotted, looks like an instantaneous step from zero to one at $x = 0$. By considering what happens when we have a negative $x$ as the argument to the function we can also define,

\begin{align*}
  \Theta(-x) =
  \begin{cases}
    1 & x < 0 \\
    0 & x > 0
  \end{cases}
\end{align*}

This allows us to write the expression,

\begin{align*}
  \Theta(x) + \Theta(-x) = 1
\end{align*}

which holds for all $x$ not equal to zero.

By considering the definition of the Heaviside function we can define its derivative by the fundamental theorem of calculus. That is, the derivative is the opposite operation of the integral. Therefore by taking the derivative with respect to $x$ of both sides of eq.~\ref{eq:heavisideintegral} we obtain,

\begin{align*}
  \frac{d}{dx}\Theta(x) = \delta(x)
\end{align*}

So far the Heaviside function is not defined for $x = 0$, so we want to explore a way that we can define this as if it is a continuous function. Intuitively we expect that $\Theta(x = 0) = \frac{1}{2}$ which we will show by considering the integral,

\begin{align*}
  \int_{-\infty}^{\infty} \frac{\sin x}{x} dx = \pi
\end{align*}

We will not prove this result here as it is long, but the proof can be found on the internet or in the notes on Canvas. This integral can be further generalized by considering the value of,

\begin{align*}
  \int_{-\infty}^{\infty} \frac{\sin ax}{x} dx
\end{align*}

for different values of $a$.

Firstly, we will consider the case when $a = 0$. First we define a placeholder value,

\begin{align*}
  y &= ax \\
  dy &= adx
\end{align*}

By dividing the second line by the first line,

\begin{align*}
  \frac{dy}{y} = \frac{dx}{x}
\end{align*}

Therefore by substituting this back into our integral, we see that the result is independent of the value of $a$,

\begin{align*}
   \int_{-\infty}^{\infty} \frac{\sin ax}{x} dx = \int_{-\infty}^{\infty} \frac{\sin y}{y} dy = \pi
\end{align*}

It is this property of being independent of $a$ which makes this integral a good function for representing the Heaviside step function.

Next, we need to consider the case where $a = 0$, which is simply

\begin{align*}
  \int_{-\infty}^{\infty} \frac{0}{x} dx = 0
\end{align*}

Finally, for the case where $a < 0$ we let $a = -b$ where $b > 0$, such that,

\begin{align*}
  \sin ax = \sin(-bx) = -\sin bx
\end{align*}

The integral can thus be rewritten in the form,

\begin{align*}
  -\int_{-\infty}^{\infty} \frac{\sin bx}{x} dx = -\pi
\end{align*}

Therefore, we have that,

\begin{align*}
  \int_{-\infty}^{\infty} \frac{\sin ax}{x} dx =
  \begin{cases}
    \pi & a > 0 \\
    0 & a = 0 \\
    -\pi & a < 0
  \end{cases}
\end{align*}

By adding a term and dividing by a constant we can bring this in line with the definition of the Heaviside step function,

\begin{align*}
  \Theta(a) = \frac{1}{2} + \frac{1}{2\pi}\int_{-\infty}^{\infty}\frac{\sin ax}{x} dx=
  \begin{cases}
    1 & a > 0 \\
    \frac{1}{2} & a = 0 \\
    0 & a < 0
  \end{cases}
\end{align*}

Or, by change of variable we can make this a function of $x$,

\begin{align*}
  \Theta(x) = \frac{1}{2} + \frac{1}{2\pi}\int_{-\infty}^{\infty}\frac{\sin xt}{t} dt=
  \begin{cases}
    1 & x > 0 \\
    \frac{1}{2} & x = 0 \\
    0 & x < 0
  \end{cases}
\end{align*}

We can see that this lends itself to a continuous representation of the step function which allows us to define a value for $\Theta(x = 0)$. This is also useful as it is directly differentiable to give a trigonometric form of the Dirac delta function,

\begin{align*}
  \delta(x) &= \frac{d}{dx}\Theta(x) \\
  \delta(x) &= \frac{1}{2\pi} \int_{-\infty}^{\infty} \frac{t \cos xt}{t} dt \\
  \delta(x) &= \frac{1}{2\pi} \int_{-\infty}^{\infty} \cos xt dt
\end{align*}

This can also be expressed in an exponential form by noting that,

\begin{align*}
  \int_{-\infty}^{\infty} e^{ixt} dt &= \int_{-\infty}^{\infty} \left[\cos xt + i\sin xt\right] dt \\
                                     &= \int_{-\infty}^{\infty} \cos xt dt
\end{align*}

In the second line we used the fact that sine is an odd function, so the integral over it from $-\infty$ to $\infty$ is zero. We can now express the Dirac delta function in the exponential form,

\begin{align*}
  \delta(x) = \frac{1}{2\pi} \int_{-\infty}^{\infty} e^{ixt} dt
\end{align*}


\section{Schr\"{o}dinger Equation in One Dimension}

The time independent Schr\"{o}dinger equation in one dimension can be written as,

\begin{align*}
  -\frac{\hbar^2}{2m}\frac{d^2\psi}{dx^2} + V(x)\psi = E\psi
\end{align*}

where $V(x)$ is the position-dependent potential energy. The Schr\"{o}dinger equation is only possible to solve for discrete values of energy $E$. We are interested in the eigenfunctions $\psi_n(x)$ and their corresponding energy eigenvalues (energy levels) $E_n$.

Consider an attractive $\delta$-function potential. In this case, it is a potential of the form $V(x) = -\lambda\delta(x)$, a sharp spike potential that goes to $-\infty$ at $x = 0$. The Schr\"{o}dinger equation can be written as,

\begin{align*}
  -\frac{\hbar^2}{2m}\frac{d^2\psi}{dx^2} - \lambda\delta(x)\psi = E\psi
\end{align*}

We want to look for the bound state with an energy,

\begin{align*}
  E = -\frac{\hbar^2q^2}{2m}
\end{align*}

For the case where $x \neq 0$, the potential function $V(x) = 0$, and we have,

\begin{align*}
  -\frac{\hbar^2}{2m}\frac{d^2\psi}{dx^2} = E\psi = -\frac{\hbar^2q^2}{2m}\psi
\end{align*}

From this we can see that,

\begin{align*}
  \frac{d^2\psi}{dx^2} = q^2\psi
\end{align*}

The solution therefore has the form,

\begin{align*}
  \psi(x) =
  \begin{cases}
    Ae^{qx} & x < 0 \\
    Be^{-qx} & x > 0
  \end{cases}
\end{align*}

showing us that the solution has the form of an exponential decay either side of $x = 0$.

By considering the Heaviside function, we can also write this in the equivalent form,

\begin{align*}
  \psi(x) = Ae^{qx}\Theta(-x) + Be^{-qx}\Theta(x)
\end{align*}

To substitute this into the Schr\"{o}dinger equation we calculate the derivatives,

\begin{align*}
  \frac{d\psi}{dx} &= Aqe^{qx}\Theta(-x) - Bqe^{-qx}\Theta{x} - Ae^{qx}\delta(x) + Be^{-qx}\delta(x) \\
                   &= Aqe^{qx}\Theta(-x) - Bqe^{-qx}\Theta{x} + (B - A)\delta(x)
\end{align*}

In the second line we used the fact that the Dirac delta function is zero every except where $x = 0$, so we can write $e^{qx}\delta(x) = \delta(x)$ as $e^{qx}$ is zero at $x = 0$, and $\delta(x)$ is zero at $x \neq 0$. We can now compute the second derivative,

\begin{align*}
  \frac{d^2\psi}{dx^2} &= Aq^2e^{qx}\Theta(-x) + Bq^2e^{-qx}\Theta(x) \\
                       &- Aqe^{qx}\delta(x) - Bqe^{-qx}\delta(x) \\
                       &+ (B-A)\delta'(x)
\end{align*}

Using $e^{qx}\delta(x) = \delta(x)$ from before, as well as noting that the first line is just the wavefunction multiplied by $q^2$,

\begin{align*}
  \frac{d^2\psi}{dx^2} = q^2\psi - (A+B)q\delta(x) + (B-A)\delta'(x)
\end{align*}

By substituting this back into the time independent Schr\"{o}dinger equation,

\begin{align*}
  -\frac{\hbar^2}{2m}q^2\psi+\frac{\hbar^2q\left(A+B\right)}{2m}\delta(x) - \frac{\hbar^2}{2m}\left(B - A\right)\delta'(x) - \lambda\delta(x)\psi = E\psi
\end{align*}

We do not yet have a suitable expression for the third term that isn't in terms of $\psi$. Note that we can write the third term in the form,

\begin{align*}
  \delta(x)\psi=\delta(x)\left[A\Theta(-x)e^{qx}+B\Theta(x)e^{-qx}\right]
\end{align*}

Remember that $\delta(x) = 0$ for all $x \neq 0$, which means that we can write this as,

\begin{align*}
  \delta(x)\psi=\delta(x)\Theta(0)\left[A+B\right] = \frac{1}{2}(A+B)\delta(x)
\end{align*}

Subtituting this into the Schr\"{o}dinger equation we then have,

\begin{align*}
  -\frac{\hbar^2}{2m}q^2\psi+\frac{\hbar^2q\left(A+B\right)}{2m}\delta(x) - \frac{\hbar^2}{2m}\left(B - A\right)\delta'(x) - \frac{\lambda}{2}\left(A+B\right)\delta(x) = E\psi
\end{align*}

The coefficients of each term on the left hand side can be compared with the right hand side.

Firstly, comparing $\delta'(x)$,

\begin{align*}
  -\frac{\hbar^2}{2m}(B-A)=0
\end{align*}

and therefore,

\begin{align*}
  B = A
\end{align*}

This is intuitive, as the wavefunction $\psi$ is clearly symmetric about $x = 0$.

Next we compare $\delta(x)$,

\begin{align*}
  \frac{\hbar^2q}{2m}(A+B)-\frac{\lambda}{2}(A+B) = 0
\end{align*}

Therefore can find an expression for $q$,

\begin{align*}
  \frac{\hbar^2q}{2m} &= \frac{\lambda}{2} \\
  q = \frac{m\lambda}{\hbar^2}
\end{align*}

Finally, comparing $\psi$ terms,

\begin{align*}
  E = -\frac{\hbar^2q}{2m} = -\frac{\hbar^2}{2m} {\left(\frac{m\lambda}{\hbar^2}\right)}^2
\end{align*}

and therefore the energy $E$ is given by,

\begin{align*}
  E = -\frac{m\lambda^2}{2\hbar^2}
\end{align*}

Since $A = B$, we can write our expression for the wavefunction as,

\begin{align*}
  \psi(x) =
  \begin{cases}
    Ae^{qx} & x \leq 0 \\
    Ae^{-qx} & x \geq 0
  \end{cases}
\end{align*}

An alternative form using the absolute value function,

\begin{align*}
  \psi(x) = Ae^{-q\|x\|}
\end{align*}

To find the constant $A$ we can normalize the wavefunction by noting that the integral of the probability density over all space must be $1$,

\begin{align*}
  \int_{-\infty}^{\infty}\psi(x)^2 dx &= A^2\int_{-\infty}^{\infty} e^{-2q\|x\|} dx \\
                                      &= 2A^2\int_{-\infty}^{\infty} e^{-2qx} dx \\
                                      &= {\left[-\frac{A^2}{q}e^{-2qx}\right]}^{\infty}_0 e^{-2qx} dx \\
                                      &= \frac{A^2}{q} = 1
\end{align*}

Therefore we see that the normalization constant $A$ is given by,

\begin{align*}
  A = \sqrt{q}
\end{align*}

The wavefunction can then be written as,

\begin{align*}
  \psi(x) = \sqrt{q}e^{-q\|x\|}
\end{align*}

\section{Alternative Boundary Condition Approach}

In this section we will take a boundary condition approach to solving the same problem. First consider the Schr\"{o}dinger equation for the potential $V(x) = -\lambda\delta(x)$,

\begin{align*}
  -\frac{\hbar^2}{2m}\frac{d^2\psi}{dx^2} - \lambda\delta(x)\psi = E\psi
\end{align*}

Rearranging this for the second derivative we have,

\begin{align}
  \label{eq:second}
  \frac{d^2\psi}{dx^2} = -\frac{2m\lambda}{\hbar^2}\delta(x)\psi - \frac{2mE}{\hbar^2}\psi
\end{align}

From here on we will introduce a new notation: $\psi(0+)$ will mean $\psi(x)$ as $x \to 0$ from the \textit{positive} $x$-direction, and $\psi(0-)$ will mean $\psi(x)$ as $x to 0$ from the \textit{negative} $x$-direction.

At $x = 0$ there is a sharp delta potential as we have defined. We can integrate over this potential from $x = -\epsilon$ to $x = \epsilon$ where $\epsilon$ is very small. On the left side of the potential we have the approaching $\psi(\epsilon-)$, and on the right side we have $\psi(\epsilon+)$. By integrating both sides of eq.~\ref{eq:second} with respect to $dx$,

\begin{align*}
  \psi'(\epsilon+) - \psi'(\epsilon-) = -\frac{2m\lambda}{\hbar^2}\psi(0) - \frac{2mE}{\hbar^2}\int_{-\epsilon}^{\epsilon}\psi(x) dx
\end{align*}

By letting $\epsilon \to 0$ we get a discontinuous step in $\psi'(x)$ where the gradient suddenly becomes negative at $x = 0$,

\begin{align}
  \label{eq:wfderiv}
  \psi'(0+)-\psi'(0-)=-\frac{2m\lambda}{\hbar^2}\psi(0)
\end{align}

Since this is not equal to zero, it shows us that there is a discontinuous change in the gradient at $x = 0$. If it were continuous at $x = 0$, the two gradients would be the same at $x = 0$, and thus the difference would be zero. Hence for a delta function potential, the gradient of the wavefunction is discontinuous at $x = 0$.

To find the solutions to the Schr\"{o}dinger equation, consider how the Schr\"{o}dinger equation for this problem behaves in different regions. First look at the region $x \neq 0$. At $x \neq 0$, the delta function $\delta(x) = 0$, and therefore the Schr\"{o}dinger equation becomes,

\begin{align*}
  -\frac{\hbar^2}{2m}\frac{d^2\psi}{dx^2} = E\psi
\end{align*}

Since we have defined the energy $E$ as,

\begin{align*}
  E = -\frac{\hbar^2q^2}{2m}
\end{align*}

The solution has the form,

\begin{align*}
  \psi(x) =
  \begin{cases}
    Ae^{qx} & x < 0 \\
    Be^{-qx} & x > 0
  \end{cases}
\end{align*}

Next we look at the boundary where $x = 0$. Here the wavefunction is continuous, that is, $\psi(0+) = \psi(0-)$, unlike the derivative of the wavefunction, where can therefore write that $A = B$ and thus the solution now takes the form,

\begin{align*}
  \psi(x) =
  \begin{cases}
    Ae^{qx} & x < 0 \\
    Ae^{-qx} & x > 0
  \end{cases}
\end{align*}

To use eq.~\ref{eq:wfderiv} we also need the first derivative,

\begin{align*}
  \psi'(x) =
  \begin{cases}
    Aqe^{qx} & x < 0 \\
    -Aqe^{-qx} & x > 0
  \end{cases}
\end{align*}

Substituting into eq.~\ref{eq:wfderiv} we obtain,

\begin{align*}
  \psi'(0+)-\psi'(0-) &= -\frac{2m\lambda}{\hbar^2}\psi(0) \\
  -Aq - (+Aq) &= -\frac{2m\lambda}{\hbar^2}A \\
  -2Aq &= -\frac{2m\lambda}{\hbar} A \\
  q &= \frac{m\lambda}{\hbar^2}
\end{align*}

We can substitute this into our equation for the energy $E$,

\begin{align*}
  E &= -\frac{\hbar^2q^2}{2m} \\
  E &= -\frac{m\lambda^2}{2\hbar^2}
\end{align*}

which is the result we obtained last time, but we arrived at it much more easily using boundary conditions.

\section{Attractive Double Delta Potential}

Consider the Schr\"{o}dinger equation for an attractive double delta potential. That is, two infinitely negative potentials with strength $\lambda$, both spaced a distance $a$ away from the origin $x = 0$. We then have the potential function,

\begin{align*}
  V(x) = -\lambda\left[\delta(x - a) + \delta(x + a)\right]
\end{align*}

Since the potential function $V(x)$ is even, due to us choosing symmetrical delta potentials about $x = 0$, the solutions $\psi(x)$ will be either even or odd functions.

The solutions in $x < -a$ and $x > a$ are the same as before but what in the region in between? Since it is the superposition of the two other states we can just write it as a hyperbolic $\cosh(x)$ function, as $\cosh(x) = \frac{e^x + e^{-x}}{2}$. The solutions therefore take the form,

\begin{align*}
  \psi(x) =
  \begin{cases}
    Ce^{qx} & x < -a \\
    D\cosh{qx} & -a < x < a \\
    Ce^{-qx} & x > a
  \end{cases}
\end{align*}

We know that the two constants $C$ must be the same in both $x < -a$ and $x > a$ as the potential function is symmetric about $x = 0$. The derivative is given by,

\begin{align*}
  \psi'(x) =
  \begin{cases}
    qCe^{qx} & x < -a \\
    Dq\sinh{qx} & -a < x < a \\
    -qCe^{-qx} & x > a
  \end{cases}
\end{align*}

Next we consider the boundary conditions.

At $x = a$, we know that the wavefunction is continuous,

\begin{align}
  \label{eq:doubleone}
  \psi(a+) &= \psi(a-) \notag\\
  Ce^{-qa} &= D\cosh{qa}
\end{align}

The derivative has the same boundary condition as before,

\begin{align}
  \label{eq:doubletwo}
  \psi'(a+) - \psi'(a-) &= -\frac{2m\lambda}{\hbar^2}\psi(a) \notag\\
  -qCe^{-qs} - Dq\sinh{qa} &= -\frac{2m\lambda}{\hbar^2}Ce^{-qa} \notag\\
  \left(\frac{2m\lambda}{\hbar^2} - q\right)Ce^{-qa} &= Dq\sinh{qa}
\end{align}

Dividing eq.~\ref{eq:doubletwo} by eq.~\ref{eq:doubleone} we obtain,

\begin{align*}
  \frac{2m\lambda}{\hbar^2} - q &= q\tanh{qa} \\
  \frac{2m\lambda a}{\hbar^2} = qa\left[1 + \tanh{qa}\right]
\end{align*}

The quantity $qa$ must be dimensionless, as it is inside the hyperbolic tangent function. By letting $y = qa$ we can write this equation as,

\begin{align*}
  \frac{2m\lambda a}{\hbar^2} = y\left[1 + \tanh{y}\right]
\end{align*}

This is a transcendental equation, so cannot be solved analytically, although we can solve this numerically.

We can rewrite this in an exponential form by noting,

\begin{align*}
  \tanh{y} = \frac{\sinh{y}}{\cosh{y}} = \frac{e^y - e^{-y}}{e^y + e^{-y}}
\end{align*}

and by adding one,

\begin{align*}
  \tanh y + 1 = \frac{e^y - e^{-y}}{e^y + e^{-y}} + \frac{e^y + e^{-y}}{e^y + e^{-y}} = \frac{2e^y}{e^y + e^{-y}} = \frac{2}{1 + e^{-2y}}
\end{align*}a

The condition thus becomes,

\begin{align*}
  \frac{2y}{1 + e^{-2y}} &= \frac{2m\lambda a}{\hbar^2} \\
  \frac{z}{1 + e^{-z}} &= \frac{2m\lambda a}{\hbar^2}
\end{align*}

where $z = 2y = 2qa$.

Let the function $f(z)$ be equal to the left hand side of this equation. Taking the derivative,

\begin{align*}
  f'(z) &= \frac{1 + e^{-z} + ze^{-z}}{{\left(1 + e^{-z}\right)}^2} \\
        &= \frac{e^z\left(e^z + 1 + z\right)}{{\left(e^z + 1\right)}^2}
\end{align*}

This is clearly greater than zero for all $z$. This means that $f(z)$ is \textit{always} increasing from $f(0) = 0$ to $f(\infty) = \infty$.

Therefore the function $f(z) = \frac{2m\lambda a}{\hbar^2}$ has only one solution, which is the $z$ at which $f(z) = \frac{2m\lambda a}{\hbar^2}$. There is therefore an even solution for any $\lambda$ where $0 < \lambda < \infty$.

Now let us look at the odd solution, $\psi_0(x)$, where $\psi_0(-x) = -\psi_0(x)$,

\begin{align*}
  \psi(x) =
  \begin{cases}
    -Ce^{qx} & x < -a \\
    D\sinh{qx} & -a < x < a \\
    Ce^{-qx} & a < x
  \end{cases}
\end{align*}

and its derivative is,

\begin{align*}
  \psi'(x) =
  \begin{cases}
    -qCe^{qx} & x < -a \\
    qD\cosh{qx} & -a < x < a \\
    -qCe^{-qx} & a < x
  \end{cases}
\end{align*}

Now we apply our boundary conditions. First we have continuity of $\psi(x)$ at $x = a$,

\begin{align}
  \label{eq:evenone}
  Ce^{-qa} = D\sinh{qa}
\end{align}

We have the same discontinuity in $\psi'(x)$ at $x = a$,

\begin{align}
  \label{eq:eventwo}
  \psi'(a+) - \psi'(a-) &= -\frac{2m\lambda}{\hbar^2}\psi(a) \notag\\
  -qCe^{-qa} - qD\cosh{qa} &= -\frac{2m\lambda}{\hbar^2}Ce^{-qa} \notag\\
  \left(\frac{2m\lambda}{\hbar^2} - q\right)Ce^{-qa} &= qD\cosh{qa}
\end{align}

Diving eq.~\ref{eq:eventwo} by eq.~\ref{eq:evenone} we obtain,

\begin{align*}
  \frac{2m\lambda}{\hbar^2} - q &= q\coth{qa} \\
  \frac{2m\lambda a}{\hbar^2} &= qa\left[1 + \coth{qa}\right]
\end{align*}

In step two, as well as rearranging the $q$ term we multiply both sides by $a$. Now let $y = qa$ as before. We can therefore write this as,

\begin{align*}
  y\left[1 + \coth{y}\right] = \frac{2m\lambda a}{\hbar^2}
\end{align*}

We can write the hyperbolic cot term in exponential form as before,

\begin{align*}
  \coth{y} = \frac{1}{\tanh{y}} = \frac{e^y + e^{-y}}{e^y - e^{-y}}
\end{align*}

and then by adding one,

\begin{align*}
  1 + \coth{y} &= \frac{e^y + e^{-y}}{e^y - e^{-y}}+\frac{e^y - e^{-y}}{e^y - e^{-y}} = \frac{2e^y}{e^y - e^{-y}} \\
               &= \frac{2}{1 - e^{-2y}}
\end{align*}

Our equation therefore becomes,

\begin{align*}
  \frac{z}{1 - e^{-z}} = \frac{2m\lambda a}{\hbar^2}
\end{align*}

where $z = 2y = 2qa$.

Consider the function $g(z) = \frac{z}{1 - e^{-z}}$. By taking the limit of $g(z)$ as $z \to 0$,

\begin{align*}
  g(0) = \lim_{z\to 0} \frac{z}{1 - e^{-z}} = \lim_{z\to 0} \frac{1}{e^-z} = 1
\end{align*}

and, as before, $g(\infty) = \infty$. By taking the first derivative of the function we can see that,

\begin{align*}
  g'(z) = \frac{1-e^{-z}-ze^{-z}}{{\left(1 - e^{-z}\right)}^2} = \frac{e^z \left[e^z - 1 - z\right]}{{\left(e^z - 1\right)}^2}
\end{align*}

We can see by using the maclaurin series that this is greater than zero for all $z$, and therefore the function $g(z)$ is increasing from $g(0) = 1$ to $g(\infty) = \infty$. This time it is possible to have no solution, as there are only solutions if $\frac{2m\lambda a}{\hbar^2} > 1$ since there is a lower limit on the function, $g(0) = 1$. This means that there is not always an odd solution to the Schr\"{o}dinger equation, specifically there isn't when $\frac{2m\lambda a}{\hbar^2} < 1$.


\section{The Top Hat Function}

The top hat function $T(x; a, b)$ is defined such that,

\begin{align*}
  T(x; a, b) = \Theta(x - a) - \Theta(x - b)
\end{align*}

By considering the definition of the heaviside step function, we can see that,

\begin{align*}
  T(x; a, b) =
  \begin{cases}
    0 & x < a \\
    1 & a < x < b \\
    0 & x > b
  \end{cases}
\end{align*}




\end{document}
